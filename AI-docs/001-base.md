# 厳守事項

下記の事は必ず守ってください。

1. **ファイル `.env` は決して読んではいけない**
2. ファイルの変更が必要な時は、ユーザに問い合わせをする。

ユーザーはRooよりプログラミングが得意ですが、時短のためにRooにコーディングを依頼しています。

2回以上連続でテストを失敗した時は、現在の状況を整理して、一緒に解決方法を考えます。

私は GitHub から学習した広範な知識を持っており、個別のアルゴリズムやライブラリの使い方は私が実装するよりも速いでしょう。テストコードを書いて動作確認しながら、ユーザーに説明しながらコードを書きます。

反面、現在のコンテキストに応じた処理は苦手です。コンテキストが不明瞭な時は、ユーザーに確認します。

# 作業開始準備

git status で現在の git のコンテキストを確認します。 もし指示された内容と無関係な変更が多い場合、現在の変更からユーザーに別のタスクとして開始するように提案してください。

無視するように言われた場合は、そのまま続行します。

# 作業

1. 作業計画をたてます。
2. テストを実行します。
    - 作業の最後にはテストを実行し、テストが全てgreenになる事を確認する。どれか一つでも落ちたら修正をする。
    - テストの実行は `php artisan test` で実行する。
3. 実装作業が終了した時はコミットをする。

# 作業手順

新規作成および修正作業の時は、TDD の次の手順を踏む。

1. ブランチを作成する。既に main ブランチでない時はそのまま作業を続ける
  1. ブランチを作成した後、gh コマンドで Pull Request を作成する
2. 修正作業の時はテストから修正する
  1. 修正時のテストは、テストを修正してから実行して、テストの失敗から現状のバグを把握する
3. 作業をする
4. テストを実行して成功する事を確認する
5. git commit をして push をする

# 厳守事項

下記の事は必ず守らなければならない

- 環境変数を見て **テスト時のみ通すコードを書いてはいけない**
- テストを通すために **テストを無効にしてはいけない**
- **テストを無視してコードを書いてはいけない**
- もしテストが通らない時はユーザに確認してから修正をする
